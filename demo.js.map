{"version":3,"file":"demo.js","mappings":"MAAA,IACIA,EADAC,EAAQ,GAERC,EAASC,SAASC,eAAe,UACjCC,EAAW,CACPC,MAAO,WACPC,OAAQ,WACRC,WAAY,WAEhBC,EAAc,CACVC,OAAQ,CACJC,OAAQ,CACJC,QAAS,eACTC,YAAa,SAEjBC,eAAgB,CACZF,QAAS,uBACTC,YAAa,WAEjBE,IAAK,CACDH,QAAS,YACTC,YAAa,aAGrBG,OAAQ,CACJC,MAAO,CACHC,MAAO,OACPC,YAAa,UACbC,MAAO,WAEX,cAAe,CACXD,YAAa,QAEjB,SAAU,CACNA,YAAa,SAEjB,WAAY,CACRA,YAAa,SAU7B,SAASE,EAAWC,GACXrB,EAAMsB,aAAwBC,IAAdvB,EAAMqB,IAE3BrB,EAAMwB,SAAQ,CAACC,EAAMC,KACbA,IAAUL,GACVtB,EAAc0B,EACd1B,EAAY4B,UAAUC,IAAI,UACf,IAAPP,GAShB,WACI,MAAMQ,EAAa9B,EAAY+B,cAAc,UAC7CD,EAAWE,MAAQ3B,EAASC,MAE5B,MAAM2B,EAAcjC,EAAY+B,cAAc,WAC9CE,EAAYD,MAAQ3B,EAASE,OAELP,EAAY+B,cAAc,eAClCC,MAAQ3B,EAASG,WAEhBR,EAAY+B,cAAc,aAClCG,iBAAiB,SAAUC,IAChC9B,EAASC,MAAQwB,EAAWE,MAC5B3B,EAASE,OAAS0B,EAAYD,MAE9BI,OAAOC,WAAWhC,SACdA,EAASC,MACTD,EAASE,OACTF,EAASG,YAGba,EAAW,EAAE,GAErB,CAhC0BiB,GACH,IAAPhB,GAiChB,WACI,MAAMiB,EAAkBvC,EAAY+B,cAAc,oBAClDQ,EAAgBP,MAAQQ,KAAKC,UAAUhC,OAAae,EAAW,GAE9CxB,EAAY+B,cAAc,aAClCG,iBAAiB,SAAUC,IAChC1B,EAAc+B,KAAKE,MAAMH,EAAgBP,OACzCX,EAAW,EAAE,GAErB,CA1C0BsB,GACH,IAAPrB,IA4CQtB,EAAY+B,cAAc,gBAClCG,iBAAiB,SAAUC,IAWvCC,OAAOC,WAAWO,WAAWC,UAAUC,IACnC5C,EAAO6C,UAAYP,KAAKC,UAAUK,EAAQ,KAAM,EAAE,GAX3B,IAG3BV,OAAOC,WAAWO,WAAWI,MAAMvC,GACnC2B,OAAOC,WAAWO,WAAWK,UAAUH,IACnC5C,EAAO6C,UAAYP,KAAKC,UAAUK,EAAQ,KAAM,EAAE,MAjD9CpB,EAAKE,UAAUsB,OAAO,SAC1B,GAER,CAwDA/C,SAAS+B,iBAAiB,oBAAoB,KA1E1C,GAAGT,QAAQ0B,KAAKhD,SAASiD,iBAAiB,UAAW1B,IACjDzB,EAAMoD,KAAK3B,EAAK,IA2EpBL,EAAW,EAAE,G","sources":["webpack://91app-payment-sdk/./wwwroot/index.js"],"sourcesContent":["let steps = [],\n    currentStep,\n    logger = document.getElementById('logger'),\n    setupSDK = {\n        appId: '54361439',\n        appKey: 'b4ead7a6',\n        serverType: 'sandbox',\n    },\n    setupConfig = {\n        fields: {\n            number: {\n                element: '#card-number',\n                placeholder: '請輸入卡號',\n            },\n            expirationDate: {\n                element: '#card-expirationDate',\n                placeholder: '請輸入有效日期',\n            },\n            ccv: {\n                element: '#card-ccv',\n                placeholder: '請輸入卡片後三碼',\n            },\n        },\n        styles: {\n            input: {\n                width: '100%',\n                borderColor: '#123456',\n                color: '#123456',\n            },\n            'input:focus': {\n                borderColor: 'blue',\n            },\n            '.valid': {\n                borderColor: 'green',\n            },\n            '.invalid': {\n                borderColor: 'red',\n            },\n        },\n    };\n\nfunction initStep() {\n    [].forEach.call(document.querySelectorAll('.step'), (step) => {\n        steps.push(step);\n    });\n}\nfunction changeStep(id) {\n    if (!steps.length || steps[id] === undefined) return;\n\n    steps.forEach((step, index) => {\n        if (index === id) {\n            currentStep = step;\n            currentStep.classList.add('active');\n            if (id === 0) initSetupSDK();\n            if (id === 1) initSetupStyle();\n            if (id === 2) initCreditCard();\n        } else {\n            step.classList.remove('active');\n        }\n    });\n}\n\nfunction initSetupSDK() {\n    const appIdField = currentStep.querySelector('#appId');\n    appIdField.value = setupSDK.appId;\n\n    const appKeyField = currentStep.querySelector('#appKey');\n    appKeyField.value = setupSDK.appKey;\n\n    const serverTypeField = currentStep.querySelector('#serverType');\n    serverTypeField.value = setupSDK.serverType;\n\n    const setupBtn = currentStep.querySelector('#setupBtn');\n    setupBtn.addEventListener('click', (e) => {\n        setupSDK.appId = appIdField.value;\n        setupSDK.appKey = appKeyField.value;\n\n        window.PaymentSDK.setupSDK(\n            setupSDK.appId,\n            setupSDK.appKey,\n            setupSDK.serverType\n        );\n\n        changeStep(1);\n    });\n}\n\nfunction initSetupStyle() {\n    const setupStyleField = currentStep.querySelector('#setupStyleField');\n    setupStyleField.value = JSON.stringify(setupConfig, undefined, 6);\n\n    const setupBtn = currentStep.querySelector('#setupBtn');\n    setupBtn.addEventListener('click', (e) => {\n        setupConfig = JSON.parse(setupStyleField.value);\n        changeStep(2);\n    });\n}\n\nfunction initCreditCard() {\n    const getTokenBtn = currentStep.querySelector('#getTokenBtn');\n    getTokenBtn.addEventListener('click', (e) => {\n        getCreditCardTxnToken();\n    });\n\n    window.PaymentSDK.creditCard.setup(setupConfig);\n    window.PaymentSDK.creditCard.onUpdate((result) => {\n        logger.innerHTML = JSON.stringify(result, null, 4);\n    })\n    \n}\nfunction getCreditCardTxnToken() {\n    window.PaymentSDK.creditCard.getToken((result) => {\n        logger.innerHTML = JSON.stringify(result, null, 4);\n    })\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    initStep();\n    changeStep(0);\n});\n"],"names":["currentStep","steps","logger","document","getElementById","setupSDK","appId","appKey","serverType","setupConfig","fields","number","element","placeholder","expirationDate","ccv","styles","input","width","borderColor","color","changeStep","id","length","undefined","forEach","step","index","classList","add","appIdField","querySelector","value","appKeyField","addEventListener","e","window","PaymentSDK","initSetupSDK","setupStyleField","JSON","stringify","parse","initSetupStyle","creditCard","getToken","result","innerHTML","setup","onUpdate","remove","call","querySelectorAll","push"],"sourceRoot":""}