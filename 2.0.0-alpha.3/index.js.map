{"version":3,"file":"2.0.0-alpha.3/index.js?t=de8a78630c2bc61faf80","mappings":"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","sources":["webpack://91app-payment-sdk/./src/config/index.ts","webpack://91app-payment-sdk/./src/events/eventEmitter.ts","webpack://91app-payment-sdk/./src/events/postMessageEmitter.ts","webpack://91app-payment-sdk/./src/payments/creditCard/enums/index.ts","webpack://91app-payment-sdk/./src/payments/creditCard/index.ts","webpack://91app-payment-sdk/./src/payments/fields/enums/index.ts","webpack://91app-payment-sdk/./src/payments/fields/fieldFrame.ts","webpack://91app-payment-sdk/webpack/bootstrap","webpack://91app-payment-sdk/./src/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Config = void 0;\nconst eventEmitter_1 = require(\"@/src/events/eventEmitter\");\nclass Config extends eventEmitter_1.EventEmitter {\n    constructor() {\n        super();\n        this._clientData = null;\n        this._origin = {\n            sandbox: 'https://gadget.payment.qa.91dev.tw',\n            production: 'https://gadget.payment.91app.com',\n        };\n    }\n    static getInstance() {\n        if (!Config._instance)\n            Config._instance = new Config();\n        return Config._instance;\n    }\n    set clientData(data) {\n        this._clientData = Object.assign({}, data);\n    }\n    get clientData() {\n        return this._clientData;\n    }\n    get version() {\n        return process.env.VERSION;\n    }\n    get origin() {\n        return process.env.NODE_ENV === 'development'\n            ? '*'\n            : this._origin[this.clientData.serverType];\n    }\n    get apiDomain() {\n        return this._origin[this.clientData.serverType];\n    }\n    get iframeDomain() {\n        return process.env.NODE_ENV === 'development'\n            ? 'http://localhost:8001'\n            : './';\n    }\n}\nexports.Config = Config;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventEmitter = void 0;\nclass EventEmitter {\n    constructor() {\n        this.listeners = new Map();\n    }\n    on(event, callback) {\n        if (!this.listeners.has(event)) {\n            this.listeners.set(event, [callback]);\n        }\n        else {\n            this.listeners.get(event).push(callback);\n        }\n    }\n    emit(event, payload) {\n        if (!this.listeners.has(event))\n            return;\n        const callbacks = this.listeners.get(event);\n        callbacks.forEach((callback) => {\n            callback(payload);\n        });\n    }\n    off(event) {\n        if (this.listeners.has(event)) {\n            this.listeners.delete(event);\n        }\n    }\n}\nexports.EventEmitter = EventEmitter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PostMessageEmitter = void 0;\nclass PostMessageEmitter {\n    constructor(current, target, origin) {\n        this.current = current;\n        this.target = target;\n        this.origin = origin;\n        this.listeners = new Map();\n        this.current.addEventListener('message', (evt) => {\n            const { type, payload } = evt.data;\n            if (this.listeners.get(type)) {\n                const callbacks = this.listeners.get(type);\n                callbacks.forEach((callback) => {\n                    callback(payload);\n                });\n            }\n        });\n    }\n    on(event, callback) {\n        if (!this.listeners.get(event)) {\n            this.listeners.set(event, [callback]);\n        }\n    }\n    emit(event, payload) {\n        const message = {\n            type: event,\n            payload,\n        };\n        this.target.postMessage(message, this.origin);\n    }\n    registerEvent(event) {\n        const eventBinder = (handler) => {\n            return this.on(event, handler);\n        };\n        return eventBinder;\n    }\n}\nexports.PostMessageEmitter = PostMessageEmitter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CardBrand = void 0;\nvar CardBrand;\n(function (CardBrand) {\n    CardBrand[\"Unknown\"] = \"Unknown\";\n    CardBrand[\"MasterCard\"] = \"MasterCard\";\n    CardBrand[\"VISA\"] = \"VISA\";\n    CardBrand[\"JCB\"] = \"JCB\";\n    CardBrand[\"AMEX\"] = \"AMEX\";\n    CardBrand[\"UnionPay\"] = \"UnionPay\";\n})(CardBrand = exports.CardBrand || (exports.CardBrand = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CreditCard = void 0;\nconst eventEmitter_1 = require(\"@/src/events/eventEmitter\");\nconst fieldFrame_1 = require(\"@/payments/fields/fieldFrame\");\nconst enums_1 = require(\"@/payments/fields/enums\");\nconst enums_2 = require(\"@/payments/creditCard/enums\");\nconst config_1 = require(\"@/src/config\");\nclass CreditCard extends eventEmitter_1.EventEmitter {\n    constructor() {\n        super();\n        this.setup = this.setup.bind(this);\n        this.getToken = this.getToken.bind(this);\n        this.creditCardData = {\n            canGetToken: false,\n            cardBrand: enums_2.CardBrand.Unknown,\n            fields: {\n                number: {\n                    target: null,\n                    status: enums_1.FieldStatus.Normal,\n                    value: '',\n                    errorMessage: '',\n                },\n                expirationDate: {\n                    target: null,\n                    status: enums_1.FieldStatus.Normal,\n                    value: '',\n                    errorMessage: '',\n                },\n                ccv: {\n                    target: null,\n                    status: enums_1.FieldStatus.Normal,\n                    value: '',\n                    errorMessage: '',\n                },\n            },\n        };\n    }\n    setup(config) {\n        if (!config_1.Config.getInstance().clientData) {\n            throw new Error('Error: Please run PaymentSDK.setupSDK(appId, appKey, serverType)');\n        }\n        this.setupConfig = config;\n        this.createFields();\n    }\n    createFields() {\n        Object.keys(this.setupConfig.fields).forEach((key) => {\n            const fieldType = key;\n            const parentElement = typeof this.setupConfig.fields[fieldType].element === 'string'\n                ? document.getElementById(this.setupConfig.fields[fieldType].element\n                    .toString()\n                    .replace('#', ''))\n                : this.setupConfig.fields[fieldType]\n                    .element;\n            const iframe = document.createElement('iframe');\n            const params = {\n                type: fieldType,\n                placeholder: this.setupConfig.fields[fieldType].placeholder,\n            };\n            iframe.src = `${config_1.Config.getInstance().iframeDomain}/fields/index.html?${encodeURIComponent(JSON.stringify(params))}`;\n            parentElement.appendChild(iframe);\n            const fieldFrame = new fieldFrame_1.FieldFrame(iframe);\n            this.creditCardData.fields[fieldType].target = fieldFrame;\n            fieldFrame.onUpdateCardBrand((cardBrand) => {\n                this.creditCardData.cardBrand = cardBrand;\n                if (fieldType !== 'number') {\n                    fieldFrame.emit('SYNC_CARD_BRAND', cardBrand);\n                }\n            });\n            fieldFrame.onUpdate((update) => {\n                this.creditCardData = Object.assign(Object.assign({}, this.creditCardData), { fields: Object.assign(Object.assign({}, this.creditCardData.fields), { [update.type]: Object.assign(Object.assign({}, this.creditCardData.fields[update.type]), { status: update.status, value: update.value, errorMessage: update.errorMessage }) }) });\n                this.creditCardData.canGetToken =\n                    Object.keys(this.creditCardData.fields).find((key) => {\n                        return (this.creditCardData.fields[key]\n                            .status !== 1);\n                    }) === undefined;\n                const updateData = Object.assign(Object.assign({}, this.creditCardData), { fields: {\n                        number: {\n                            status: this.creditCardData.fields.number.status,\n                            errorMessage: this.creditCardData.fields.number.errorMessage,\n                        },\n                        expirationDate: {\n                            status: this.creditCardData.fields.expirationDate.status,\n                            errorMessage: this.creditCardData.fields.expirationDate.errorMessage,\n                        },\n                        ccv: {\n                            status: this.creditCardData.fields.ccv.status,\n                            errorMessage: this.creditCardData.fields.ccv.errorMessage,\n                        },\n                    } });\n                if (fieldType === 'number') {\n                    this.emit('UPDATE', updateData);\n                }\n            });\n        });\n    }\n    getFieldData(key) {\n        return this.creditCardData.fields[key];\n    }\n    getToken(callback) {\n        const requestData = {\n            appId: config_1.Config.getInstance().clientData.appId.toString(),\n            appKey: config_1.Config.getInstance().clientData.appKey,\n            sdkVer: config_1.Config.getInstance().version,\n            cardNumber: this.getFieldData('number').value,\n            cardExpiryDate: this.getFieldData('expirationDate').value,\n            cardSecurityCode: this.getFieldData('ccv').value,\n        };\n        this.getFieldData('number').target.onGetTokenCompleted((result) => {\n            callback(result);\n        });\n        this.getFieldData('number').target.emit('GET_TOKEN', requestData);\n    }\n    onUpdate(callback) {\n        return this.on('UPDATE', (result) => {\n            callback(result);\n        });\n    }\n}\nexports.CreditCard = CreditCard;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FieldStatus = void 0;\nvar FieldStatus;\n(function (FieldStatus) {\n    FieldStatus[FieldStatus[\"Normal\"] = 0] = \"Normal\";\n    FieldStatus[FieldStatus[\"Success\"] = 1] = \"Success\";\n    FieldStatus[FieldStatus[\"Error\"] = -1] = \"Error\";\n})(FieldStatus = exports.FieldStatus || (exports.FieldStatus = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FieldFrame = void 0;\nconst postMessageEmitter_1 = require(\"@/src/events/postMessageEmitter\");\nconst config_1 = require(\"@/src/config\");\nclass FieldFrame extends postMessageEmitter_1.PostMessageEmitter {\n    constructor(element) {\n        super(window, element.contentWindow, '*');\n        this.element = element;\n        this.onUpdate = this.onUpdate.bind(this);\n        this.onUpdateCardBrand = this.onUpdateCardBrand.bind(this);\n        this.onGetTokenCompleted = this.onGetTokenCompleted.bind(this);\n        this.element.setAttribute('scrolling', 'no');\n        this.element.setAttribute('frameborder', '0');\n        this.element.setAttribute('allowtransparency', 'true');\n        this.element.setAttribute('width', '100%');\n        this.element.setAttribute('height', '100%');\n        this.element.addEventListener('load', () => this.syncClientData());\n    }\n    syncClientData() {\n        this.emit('SYNC_CLIENT', config_1.Config.getInstance().clientData);\n    }\n    onUpdate(callback) {\n        return this.on('UPDATE_FIELD', (update) => {\n            callback(update);\n        });\n    }\n    onUpdateCardBrand(callback) {\n        return this.on('UPDATE_CARD_BRAND', (cardBrand) => {\n            callback(cardBrand);\n        });\n    }\n    onGetTokenCompleted(callback) {\n        return this.on('GET_TOKEN_COMPLETED', (response) => {\n            callback(response);\n        });\n    }\n}\nexports.FieldFrame = FieldFrame;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst config_1 = require(\"@/src/config\");\nconst creditCard_1 = require(\"@/payments/creditCard\");\nclass PaymentSDK {\n    constructor() {\n        this.setupSDK = (appId, appKey, serverType) => {\n            this.config.clientData = {\n                appId,\n                appKey,\n                serverType,\n            };\n            this.createPayment();\n        };\n        this.config = config_1.Config.getInstance();\n        this.setupSDK = this.setupSDK.bind(this);\n    }\n    createPayment() {\n        this.creditCard = new creditCard_1.CreditCard();\n    }\n}\nwindow.PaymentSDK = new PaymentSDK();\n"],"names":["Object","defineProperty","exports","value","Config","eventEmitter_1","EventEmitter","constructor","super","this","_clientData","_origin","sandbox","production","static","_instance","clientData","data","assign","version","origin","serverType","apiDomain","iframeDomain","listeners","Map","on","event","callback","has","get","push","set","emit","payload","forEach","off","delete","PostMessageEmitter","current","target","addEventListener","evt","type","message","postMessage","registerEvent","handler","CardBrand","CreditCard","fieldFrame_1","enums_1","enums_2","config_1","setup","bind","getToken","creditCardData","canGetToken","cardBrand","Unknown","fields","number","status","FieldStatus","Normal","errorMessage","expirationDate","ccv","config","getInstance","Error","setupConfig","createFields","keys","key","fieldType","parentElement","element","document","getElementById","toString","replace","iframe","createElement","params","placeholder","src","encodeURIComponent","JSON","stringify","appendChild","fieldFrame","FieldFrame","onUpdateCardBrand","onUpdate","update","undefined","find","updateData","getFieldData","requestData","appId","appKey","sdkVer","cardNumber","cardExpiryDate","cardSecurityCode","onGetTokenCompleted","result","postMessageEmitter_1","window","contentWindow","setAttribute","syncClientData","response","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","creditCard_1","PaymentSDK","setupSDK","createPayment","creditCard"],"sourceRoot":""}